#!/usr/bin/env mksh
#
#
THE_ARGS="$@"
THIS_DIR="$(dirname "$(dirname "$(readlink -m "$0")")")"

if [[ -z "$@" ]]; then
  action="watch"
else
  action=$1
  shift
fi

set -u -e -o pipefail

case $action in
  help|--help)
    mksh_setup print-help $0
    ;;

  *)
    source "$THIS_DIR/../mksh_setup/source/name-to-func.sh"
    name-to-func "${action}" "$@"

    # === It's an error:
    echo "!!! Unknown action in ${0}: $THE_ARGS" 1>&2
    exit 1
    ;;

esac
